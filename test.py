import streamlit as st

# ----------------------------
# 기본 설정
# ----------------------------
st.set_page_config(page_title="보건의료 웹앱", page_icon="🧑‍⚕️", layout="wide")
st.title("🧑‍⚕️ 전문 보건의료 웹앱")
st.write("""
⚠️ 본 앱은 의료 전문가의 진료를 대체하지 않습니다.  
정확한 진단이나 처치가 필요할 경우 반드시 병원 방문을 권장합니다.
""")

# ----------------------------
# 메뉴 선택
# ----------------------------
menu = st.sidebar.radio("메뉴 선택", ["홈", "자가진단", "운동 가이드", "약품 정보", "응급처치"])

# ----------------------------
# 홈
# ----------------------------
if menu == "홈":
    st.subheader("🏠 홈")
    st.write("""
본 앱은 자가 증상 확인, 재활 운동, 약품 정보, 응급처치 안내 등
건강 관리 보조 기능을 제공합니다.  
사용자의 안전과 정확한 진료를 위해 전문가 상담이 필수입니다.
""")

# ----------------------------
# 자가진단
# ----------------------------
elif menu == "자가진단":
    st.subheader("🤒 자가진단 도구")
    st.write("현재 겪고 있는 증상을 선택하세요:")

    symptom = st.selectbox("증상 선택", [
        "선택 안 함", "두통", "기침", "복통", "발열", "피로감", "발목통증", "눈충혈"
    ])

    if symptom != "선택 안 함":
        st.write(f"선택한 증상: **{symptom}**")

        symptom_detail = {
            "두통": """
- 긴장성 두통, 편두통 가능성
- 동반 증상: 눈 피로, 어깨/목 근육 긴장, 빛과 소리에 민감
- 조치: 충분한 수분 섭취, 규칙적 휴식, 필요 시 진통제 복용
- 주의: 갑작스럽거나 심한 두통, 신경학적 증상 동반 시 즉시 진료
""",
            "기침": """
- 감기, 기관지염, 천식 가능
- 동반 증상: 가래, 목 통증, 발열
- 조치: 충분한 수분 섭취, 공기 습도 유지, 필요 시 기침 완화제 복용
- 주의: 2주 이상 지속, 호흡곤란, 피 섞인 가래 시 병원 방문
""",
            "복통": """
- 소화불량, 위염, 장염 가능
- 동반 증상: 메스꺼움, 구토, 설사
- 조치: 가벼운 식사, 수분 보충, 필요 시 소화제 복용
- 주의: 복부 극심 통증, 발열, 혈변 시 즉시 내과 진료
""",
            "발열": """
- 감염 가능성 (바이러스, 세균)
- 동반 증상: 오한, 근육통, 피로
- 조치: 충분한 휴식, 수분 섭취, 필요 시 해열제 복용
- 주의: 38℃ 이상 지속 시 반드시 병원 방문
""",
            "피로감": """
- 과로, 수면 부족, 빈혈, 영양 불균형 가능
- 동반 증상: 집중력 저하, 무기력
- 조치: 충분한 휴식, 균형 잡힌 식사, 규칙적 운동
- 주의: 2주 이상 지속되면 혈액검사 등 전문 진료 권장
""",
            "발목통증": """
- 발목 염좌, 근육 손상 가능
- 동반 증상: 부종, 멍, 보행 시 통증
- 조치: 휴식, 얼음찜질, 압박 붕대, 높이 올리기
- 주의: 체중 부하 시 통증 심하면 정형외과 진료
""",
            "눈충혈": """
- 결막염, 알레르기 가능
- 동반 증상: 가려움, 눈물, 눈 통증
- 조치: 인공눈물 사용, 눈 문지르지 않기, 알레르기 원인 회피
- 주의: 통증 심하거나 시력 저하 시 안과 진료
"""
        }
        st.info(symptom_detail.get(symptom))

# ----------------------------
# 운동 & 재활 가이드
# ----------------------------
elif menu == "운동 가이드":
    st.subheader("💪 재활 운동 가이드 (글로 설명)")

    exercise = st.selectbox("운동 부위 선택", ["어깨", "허리", "발목", "목"])

    exercise_guide = {
        "어깨": """
- 벽을 마주보고 선 후 손을 벽에 대고 천천히 위로 올립니다.
- 10회 반복, 하루 2~3세트 권장.
- 어깨 근육 긴장을 완화하고 혈액순환을 돕습니다.
""",
        "허리": """
- 등을 바닥에 대고 무릎을 가슴쪽으로 당겨 20초 유지합니다.
- 5회 반복, 하루 2~3세트 권장.
- 허리 근육 이완 및 척추 스트레칭 효과.
""",
        "발목": """
- 앉은 자세에서 밴드를 발에 걸고 발목을 바깥쪽/안쪽으로 15회 반복합니다.
- 하루 2~3세트 권장.
- 발목 근력 강화와 염좌 예방에 도움.
""",
        "목": """
- 고개를 천천히 좌우로 기울여 목 근육을 이완합니다.
- 10초 유지 후 반대쪽 반복, 하루 2~3세트 권장.
- 목 통증 완화와 자세 개선에 도움.
"""
    }

    st.write(exercise_guide[exercise])

# ----------------------------
# 약품 정보 (버튼 클릭)
# ----------------------------
elif menu == "약품 정보":
    st.subheader("💊 약품 정보 (클릭하여 확인)")

    drug_info = {
        "타이레놀": {"효능": "해열, 진통", "부작용": "간 손상 위험 (과다 복용 시)"},
        "아스피린": {"효능": "해열, 진통, 항염", "부작용": "위장 장애, 출혈 위험"},
        "판토덱스": {"효능": "위산 억제제", "부작용": "두통, 복통"},
        "이부프로펜": {"효능": "진통, 항염", "부작용": "위장 장애, 어지러움"},
        "항히스타민제": {"효능": "알레르기 증상 완화", "부작용": "졸림, 구강 건조"},
        "항생제": {"효능": "세균 감염 치료", "부작용": "설사, 발진"},
        "진해거담제": {"효능": "기침 완화", "부작용": "졸림, 어지러움"},
        "해열제": {"효능": "발열 감소", "부작용": "위장 장애, 두통"},
        "진통제": {"효능": "통증 완화", "부작용": "위장 장애, 어지러움"},
        "소염제": {"효능": "염증 완화", "부작용": "위장 장애, 발진"},
        "항진균제": {"효능": "곰팡이 감염 치료", "부작용": "간 기능 이상"},
        "항바이러스제": {"효능": "바이러스 감염 치료", "부작용": "발진, 발열"},
        "항우울제": {"효능": "우울증 치료", "부작용": "졸림, 체중 증가"},
        "항불안제": {"효능": "불안 증상 완화", "부작용": "졸림, 어지러움"},
        "항고혈압제": {"효능": "혈압 감소", "부작용": "어지러움, 피로감"},
        "항당뇨제": {"효능": "혈당 감소", "부작용": "저혈당, 체중 증가"},
        "항콜레스테롤제": {"효능": "콜레스테롤 감소", "부작용": "근육통, 피로감"},
        "항암제": {"효능": "암 치료", "부작용": "탈모, 구토"},
        "진정제": {"효능": "불안 완화", "부작용": "졸림, 어지러움"},
        "항경련제": {"효능": "발작 예방", "부작용": "어지러움, 졸림"}
    }

    cols = st.columns(5)
    for i, drug in enumerate(drug_info.keys()):
        if cols[i % 5].button(drug):
            info = drug_info[drug]
            st.success(f"💊 {drug} 정보")
            st.write(f"**효능:** {info['효능']}")
            st.write(f"**부작용:** {info['부작용']}")

# ----------------------------
# 응급처치
# ----------------------------
elif menu == "응급처치":
    st.subheader("🚑 응급처치 가이드")
    emergency = st.selectbox("상황 선택", [
        "심정지", "화상", "골절", "출혈",
        "알레르기 반응", "식중독", "뇌졸중 의심", "심장마비 의심"
    ])

    emergency_guide = {
        "심정지": """
- 즉시 119 신고
- 가슴압박 30회 + 인공호흡 2회 반복
- 자동심장충격기(AED) 사용 가능 시 즉시 사용
- 주변 사람에게 도움 요청
""",
        "화상": """
- 화상 부위를 흐르는 찬물 10~20분 냉각
- 수포 터트리지 않음
- 필요 시 소독 후 멸균 거즈 사용
- 통증 심하면 병원 방문
""",
        "골절": """
- 골절 부위를 고정 (부목, 붕대 등)
- 얼음찜질로 부기 완화
- 체중 부하 금지
- 가능한 빨리 정형외과 방문
""",
        "출혈": """
- 깨끗한 천으로 압박하여 지혈
- 출혈이 심하면 지혈대 사용
- 출혈 지속 시 즉시 병원 이동
""",
        "알레르기 반응": """
- 호흡곤란, 발진, 부종 시 즉시 119 신고
- 항히스타민제 복용 가능
- 에피네프린(심한 알레르기) 소유 시 사용
- 병원 후속 진료 필수
""",
        "식중독": """
- 구토, 설사, 복통 시 충분한 수분 섭취
- 증상 심하면 내과 방문
- 고열, 혈변 발생 시 즉시 병원
""",
        "뇌졸중 의심": """
- 얼굴 비대칭, 팔 저림, 언어장애(F.A.S.T 확인)
- 즉시 119 신고
- 환자를 움직이지 않고 안정 유지
""",
        "심장마비 의심": """
- 가슴 통증, 호흡곤란 시 즉시 119 신고
- CPR 실시 (가슴압박 30회 + 인공호흡 2회)
- 주변 사람에게 도움 요청
